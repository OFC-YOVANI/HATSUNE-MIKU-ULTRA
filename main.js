process['env']['NODE_TLS_REJECT_UNAUTHORIZED']='0';import'./config.js';import{createRequire}from'module';import _0x5f805b,{join}from'path';import{fileURLToPath,pathToFileURL}from'url';import{platform}from'process';import*as _0xf44ec0 from'ws';import{readdirSync,statSync,unlinkSync,existsSync,readFileSync,rmSync,watch}from'fs';import _0x993582 from'yargs';import{spawn}from'child_process';import _0x3a7c82 from'lodash';import _0x26b5b2 from'chalk';import _0x4cb130 from'syntax-error';import{tmpdir}from'os';import{format}from'util';import _0xb07281 from'pino';import _0x42fefd from'pino';import{Boom}from'@hapi/boom';import{makeWASocket,protoType,serialize}from'./lib/simple.js';import{Low,JSONFile}from'lowdb';import{mongoDB,mongoDBV2}from'./lib/mongoDB.js';import _0xd7486f from'./lib/store.js';const {proto}=(await import('@whiskeysockets/baileys'))['default'],{DisconnectReason,useMultiFileAuthState,MessageRetryMap,fetchLatestBaileysVersion,makeCacheableSignalKeyStore}=await import('@whiskeysockets/baileys'),{CONNECTING}=_0xf44ec0,{chain}=_0x3a7c82,PORT=process['env']['PORT']||process['env']['SERVER_PORT']||0xbb8;protoType(),serialize(),global['__filename']=function filename(_0x2310a9=import.meta['url'],_0x4c1ccc=platform!=='win32'){return _0x4c1ccc?/file:\/\/\//['test'](_0x2310a9)?fileURLToPath(_0x2310a9):_0x2310a9:pathToFileURL(_0x2310a9)['toString']();},global['__dirname']=function dirname(_0x42b3c4){return _0x5f805b['dirname'](global['__filename'](_0x42b3c4,!![]));},global['__require']=function require(_0x262f38=import.meta['url']){return createRequire(_0x262f38);},global['API']=(_0x46cc52,_0x2d5846='/',_0x6bfea4={},_0x1919d8)=>(_0x46cc52 in global['APIs']?global['APIs'][_0x46cc52]:_0x46cc52)+_0x2d5846+(_0x6bfea4||_0x1919d8?'?'+new URLSearchParams(Object['entries']({..._0x6bfea4,..._0x1919d8?{[_0x1919d8]:global['APIKeys'][_0x46cc52 in global['APIs']?global['APIs'][_0x46cc52]:_0x46cc52]}:{}})):''),global['timestamp']={'start':new Date()},global['videoList']=[],global['videoListXXX']=[];const __dirname=global['__dirname'](import.meta['url']);global['opts']=new Object(_0x993582(process['argv']['slice'](0x2))['exitProcess'](![])['parse']()),global['prefix']=new RegExp('^['+(opts['prefix']||'*/i!#$%+¬£¬¢‚Ç¨¬•^¬∞=¬∂‚àÜ√ó√∑œÄ‚àö‚úì¬©¬Æ:;?&.\x5c-.@')['replace'](/[|\\{}()[\]^$+*?.\-\^]/g,'\x5c$&')+']'),global['db']=new Low(/https?:\/\//['test'](opts['db']||'')?new cloudDBAdapter(opts['db']):new JSONFile((opts['_'][0x0]?opts['_'][0x0]+'_':'')+'database.json')),global['DATABASE']=global['db'],global['loadDatabase']=async function loadDatabase(){if(global['db']['READ'])return new Promise(_0x2a069c=>setInterval(async function(){!global['db']['READ']&&(clearInterval(this),_0x2a069c(global['db']['data']==null?global['loadDatabase']():global['db']['data']));},0x1*0x3e8));if(global['db']['data']!==null)return;global['db']['READ']=!![],await global['db']['read']()['catch'](console['error']),global['db']['READ']=null,global['db']['data']={'users':{},'chats':{},'stats':{},'msgs':{},'sticker':{},'settings':{},...global['db']['data']||{}},global['db']['chain']=chain(global['db']['data']);},loadDatabase(),global['chatgpt']=new Low(new JSONFile(_0x5f805b['join'](__dirname,'/db/chatgpt.json'))),global['loadChatgptDB']=async function loadChatgptDB(){if(global['chatgpt']['READ'])return new Promise(_0x2a761d=>setInterval(async function(){!global['chatgpt']['READ']&&(clearInterval(this),_0x2a761d(global['chatgpt']['data']===null?global['loadChatgptDB']():global['chatgpt']['data']));},0x1*0x3e8));if(global['chatgpt']['data']!==null)return;global['chatgpt']['READ']=!![],await global['chatgpt']['read']()['catch'](console['error']),global['chatgpt']['READ']=null,global['chatgpt']['data']={'users':{},...global['chatgpt']['data']||{}},global['chatgpt']['chain']=_0x3a7c82['chain'](global['chatgpt']['data']);},loadChatgptDB(),global['authFile']='Session-activa';const {state,saveState,saveCreds}=await useMultiFileAuthState(global['authFile']),msgRetryCounterMap=_0x566c55=>{},{version}=await fetchLatestBaileysVersion(),connectionOptions={'printQRInTerminal':!![],'patchMessageBeforeSending':_0x2e61e8=>{const _0x33dd84=!!(_0x2e61e8['buttonsMessage']||_0x2e61e8['templateMessage']||_0x2e61e8['listMessage']);return _0x33dd84&&(_0x2e61e8={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x2e61e8}}}),_0x2e61e8;},'getMessage':async _0x4d45a2=>{if(_0xd7486f){const _0x1f9ed6=await _0xd7486f['loadMessage'](_0x4d45a2['remoteJid'],_0x4d45a2['id']);return conn['chats'][_0x4d45a2['remoteJid']]&&conn['chats'][_0x4d45a2['remoteJid']]['messages'][_0x4d45a2['id']]?conn['chats'][_0x4d45a2['remoteJid']]['messages'][_0x4d45a2['id']]['message']:undefined;}return proto['Message']['fromObject']({});},'msgRetryCounterMap':msgRetryCounterMap,'logger':_0x42fefd({'level':'silent'}),'auth':{'creds':state['creds'],'keys':makeCacheableSignalKeyStore(state['keys'],_0x42fefd({'level':'silent'}))},'browser':['HATSUNE-MIKU-ULTRA','Safari','1.0.0'],'version':version,'defaultQueryTimeoutMs':undefined};global['conn']=makeWASocket(connectionOptions),conn['isInit']=![],conn['well']=![],conn['logger']['info']('∆á·¥Ä Ä…¢·¥Ä…¥·¥Ö·¥èÔºéÔºéÔºé\x0a');!opts['test']&&(global['db']&&setInterval(async()=>{if(global['db']['data'])await global['db']['write']();if(opts['autocleartmp']&&(global['support']||{})['find'])tmp=[os['tmpdir'](),'tmp','jadibts'],tmp['forEach'](_0x54d919=>cp['spawn']('find',[_0x54d919,'-amin','3','-type','f','-delete']));},0x1e*0x3e8));if(opts['server'])(await import('./server.js'))['default'](global['conn'],PORT);function clearTmp(){const _0x4fe024=[tmpdir(),join(__dirname,'./tmp')],_0x109339=[];return _0x4fe024['forEach'](_0x51c454=>readdirSync(_0x51c454)['forEach'](_0x4c098a=>_0x109339['push'](join(_0x51c454,_0x4c098a)))),_0x109339['map'](_0x3256ef=>{const _0x1a638a=statSync(_0x3256ef);if(_0x1a638a['isFile']()&&Date['now']()-_0x1a638a['mtimeMs']>=0x3e8*0x3c*0x3)return unlinkSync(_0x3256ef);return![];});}function purgeSession(){let _0x599c9d=[],_0x48576f=readdirSync('./Session-activa'),_0xa7dfac=_0x48576f['filter'](_0x2d406a=>{return _0x2d406a['startsWith']('pre-key-');});_0x599c9d=[..._0x599c9d,..._0xa7dfac],_0xa7dfac['forEach'](_0x2cb88a=>{unlinkSync('./Session-activa/'+_0x2cb88a);});}function purgeSessionSB(){try{let _0x37bcc7=readdirSync('./jadibts/'),_0x3a7c87=[];_0x37bcc7['forEach'](_0x135b98=>{if(statSync('./jadibts/'+_0x135b98)['isDirectory']()){let _0x183bd6=readdirSync('./jadibts/'+_0x135b98)['filter'](_0x1547fd=>{return _0x1547fd['startsWith']('pre-key-');});_0x3a7c87=[..._0x3a7c87,..._0x183bd6],_0x183bd6['forEach'](_0x2b23cd=>{unlinkSync('./jadibts/'+_0x135b98+'/'+_0x2b23cd);});}});if(_0x3a7c87['length']===0x0)return;}catch(_0x364968){console['log'](_0x26b5b2['bold']['red']('=>\x20Algo\x20salio\x20mal\x20durante\x20la\x20eliminaci√≥n,\x20archivos\x20no\x20eliminados'));}}function purgeOldFiles(){const _0x341755=['./Session-activa/','./jadibts/'],_0x397650=Date['now']()-0x3c*0x3c*0x3e8;_0x341755['forEach'](_0x56d8cf=>{readdirSync(_0x56d8cf,(_0x17555b,_0x162976)=>{if(_0x17555b)throw _0x17555b;_0x162976['forEach'](_0x4dab81=>{const _0x52aa49=_0x5f805b['join'](_0x56d8cf,_0x4dab81);stat(_0x52aa49,(_0x595d6b,_0x1480a3)=>{if(_0x595d6b)throw _0x595d6b;_0x1480a3['isFile']()&&_0x1480a3['mtimeMs']<_0x397650&&_0x4dab81!=='creds.json'?unlinkSync(_0x52aa49,_0x481d87=>{if(_0x481d87)throw _0x481d87;console['log'](_0x26b5b2['bold']['green']('Archivo\x20'+_0x4dab81+'\x20borrado\x20con\x20√©xito'));}):console['log'](_0x26b5b2['bold']['red']('Archivo\x20'+_0x4dab81+'\x20no\x20borrado'+_0x595d6b));});});});});}async function connectionUpdate(_0x2b4d91){const {connection:_0x3b84ce,lastDisconnect:_0x818788,isNewLogin:_0x5bc2ad}=_0x2b4d91;global['stopped']=_0x3b84ce;if(_0x5bc2ad)conn['isInit']=!![];const _0x28c9cc=_0x818788?.['error']?.['output']?.['statusCode']||_0x818788?.['error']?.['output']?.['payload']?.['statusCode'];_0x28c9cc&&_0x28c9cc!==DisconnectReason['loggedOut']&&conn?.['ws']['socket']==null&&(await global['reloadHandler'](!![])['catch'](console['error']),global['timestamp']['connect']=new Date());if(global['db']['data']==null)loadDatabase();_0x2b4d91['qr']!=0x0&&_0x2b4d91['qr']!=undefined&&console['log'](_0x26b5b2['yellow']('üí•\x20Scan\x20this\x20QR\x20code,\x20the\x20QR\x20code\x20expires\x20in\x2060\x20seconds.'));_0x3b84ce=='open'&&console['log'](_0x26b5b2['yellow']('‚ñ£‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ¬∑¬∑¬∑\x0a‚îÇ\x0a‚îÇ‚ùß\x20ùô≤ùôæùôΩùô¥ùô≤ùöÉùô∞ùô≥ùôæ\x20ùô≤ùôæùöÅùöÅùô¥ùô≤ùöÉùô∞ùôºùô¥ùôΩùöÉùô¥\x20ùô∞ùôª\x20ùöÜùô∑ùô∞ùöÉùöÇùô∞ùôøùôø\x20‚úÖ\x0a‚îÇ\x0a‚ñ£‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ¬∑¬∑¬∑'));let _0x405269=new Boom(_0x818788?.['error'])?.['output']?.['statusCode'];if(_0x3b84ce==='close'){if(_0x405269===DisconnectReason['badSession'])conn['logger']['error']('[\x20‚ö†\x20]\x20Incorrect\x20session,\x20please\x20delete\x20the\x20folder\x20'+global['authFile']+'\x20and\x20scan\x20again.');else{if(_0x405269===DisconnectReason['connectionClosed'])conn['logger']['warn']('[\x20‚ö†\x20]\x20Connection\x20closed,\x20reconnecting...'),await global['reloadHandler'](!![])['catch'](console['error']);else{if(_0x405269===DisconnectReason['connectionLost'])conn['logger']['warn']('[\x20‚ö†\x20]\x20Lost\x20connection\x20to\x20the\x20server,\x20reconnecting...'),await global['reloadHandler'](!![])['catch'](console['error']);else{if(_0x405269===DisconnectReason['connectionReplaced'])conn['logger']['error']('[\x20‚ö†\x20]\x20Connection\x20replaced,\x20another\x20new\x20session\x20has\x20been\x20opened.\x20Please\x20log\x20out\x20of\x20the\x20current\x20session\x20first.');else{if(_0x405269===DisconnectReason['loggedOut'])conn['logger']['error']('[\x20‚ö†\x20]\x20Connection\x20closed,\x20please\x20delete\x20the\x20folder\x20'+global['authFile']+'\x20and\x20scan\x20again.');else{if(_0x405269===DisconnectReason['restartRequired'])conn['logger']['info']('[\x20‚ö†\x20]\x20Reboot\x20required,\x20restart\x20the\x20server\x20if\x20you\x20have\x20any\x20problems.'),await global['reloadHandler'](!![])['catch'](console['error']);else _0x405269===DisconnectReason['timedOut']?(conn['logger']['warn']('[\x20‚ö†\x20]\x20Connection\x20timed\x20out,\x20reconnecting...'),await global['reloadHandler'](!![])['catch'](console['error'])):(conn['logger']['warn']('[\x20‚ö†\x20]\x20Unknown\x20disconnection\x20reason.\x20'+(_0x405269||'')+':\x20'+(_0x3b84ce||'')),await global['reloadHandler'](!![])['catch'](console['error']));}}}}}}}process['on']('uncaughtException',console['error']);let isInit=!![],handler=await import('./handler.js');global['reloadHandler']=async function(_0x192256){try{const _0x3e6b88=await import('./handler.js?update='+Date['now']())['catch'](console['error']);if(Object['keys'](_0x3e6b88||{})['length'])handler=_0x3e6b88;}catch(_0x1ee174){console['error'](_0x1ee174);}if(_0x192256){const _0x3cb41f=global['conn']['chats'];try{global['conn']['ws']['close']();}catch{}conn['ev']['removeAllListeners'](),global['conn']=makeWASocket(connectionOptions,{'chats':_0x3cb41f}),isInit=!![];}!isInit&&(conn['ev']['off']('messages.upsert',conn['handler']),conn['ev']['off']('group-participants.update',conn['participantsUpdate']),conn['ev']['off']('groups.update',conn['groupsUpdate']),conn['ev']['off']('message.delete',conn['onDelete']),conn['ev']['off']('call',conn['onCall']),conn['ev']['off']('connection.update',conn['connectionUpdate']),conn['ev']['off']('creds.update',conn['credsUpdate']));conn['welcome']='‚ü•‚üù‚ü¢‚ü®*@user*‚ü©‚ü£‚üû‚ü§\x0a‚Ä¢\x20*HOLA\x20ùô±ùô∏ùô¥ùôΩùöÖùô¥ùôΩùô∏ùô≥ùôæ/ùô∞@subject*\x0a‚Ä¢\x20*ùô∞ùöÖùô∏ùöÇùôæ\x20ùô∏ùôºùôøùôæùöÅùöÉùô∞ùôΩùöÉùô¥:*\x0a‚Ä¢\x20*ùôøùöòùöõ\x20ùöèùöäùöüùöòùöõ\x20ùôªùöéùöé\x20ùöïùöäùöú\x20ùöõùöéùöêùöïùöäùöú\x20ùöçùöéùöï\x20ùöêùöõùöûùöôùöò\x20ùöôùöäùöõùöä\x20ùööùöûùöé\x20ùöéùöüùöíùöùùöéùöú\x20ùöúùöéùöõ\x20ùöéùöïùöíùöñùöíùöóùöäùöçùöò\x20ùö¢\x20ùöéùöüùöíùöùùöéùöú\x20ùöùùöéùöóùöéùöõ\x20ùöôùöõùöòùöãùöïùöéùöñùöäùöú\x20ùöåùöòùöó\x20ùöåùöõùöéùöäùöçùöòùöõ\x20ùöçùöéùöï\x20ùöêùöõùöûpo*\x0a‚Ä¢\x20*@desc*\x0a‚¨í‚îÄ‚ü¢‚ü®¬©ùô∑ùô∞ùöÉùöÇùöÑùôΩùô¥-ùôºùô∏ùô∫ùöÑ-ùöÑùôªùöÉùöÅùô∞‚ü©‚ü£‚îÄ‚¨í',conn['bye']='‚ü•‚üù‚ü¢‚ü®*@user*‚ü©‚ü£‚üû‚ü§\x0a‚Ä¢\x20*ADIOS\x20ùô∑ùô∞ùöÇùöÉùô∞\x20ùôøùöÅùôæùôΩùöÉùôæ*\x0a‚¨í‚îÄ‚ü¢‚ü®¬©ùô∑ùô∞ùöÉùöÇùöÑùôΩùô¥-ùôºùô∏ùô∫ùöÑ-ùöÑùôªùöÉùöÅùô∞‚úç‚ü©‚ü£‚îÄ‚¨í',conn['spromote']='*@user\x20ùöÇùô¥\x20ùöÇùöÑùôºùô∞\x20ùô∞ùôª\x20ùô∂ùöÅùöÑùôøùôæ\x20ùô≥ùô¥\x20ùô∞ùô≥ùôºùô∏ùôΩùöÇ*\x0a\x0a*ADMINS\x20GROUP\x20JOINS!!*',conn['sdemote']='*@user\x20ùô∞ùô±ùô∞ùôΩùô≥ùôæùôΩùô∞\x20ùô¥ùôª\x20ùô∂ùöÅùöÑùôøùôæ\x20ùô≥ùô¥\x20ùô∞ùô≥ùôºùô∏ùôΩùöÇ\x20!!*\x0a\x0a*ABANDONED\x20THE\x20ADMIN\x20GROUP*',conn['sDesc']='*ùöÇùô¥\x20ùô∑ùô∞\x20ùôºùôæùô≥ùô∏ùôµùô∏ùô≤ùô∞ùô≥ùôæ\x20ùôªùô∞\x20ùô≥ùô¥ùöÇùô≤ùöÅùô∏ùôøùô≤ùô∏ùôæùôΩ\x20ùô≥ùô¥ùôª\x20ùô∂ùöÅùöÑùôøùôæ*\x0a\x0a\x20*GROUP\x20DESCRIPTION\x20HAS\x20BEEN\x20CHANGED*\x0a*ùôΩùöÑùô¥ùöÖùô∞\x20ùô≥ùô¥ùöÇùô≤ùöÅùô∏ùôøùô≤ùô∏ùôæùôΩ:*\x20@desc',conn['sSubject']='*ùöÇùô¥\x20ùô∑ùô∞\x20ùôºùôæùô≥ùô∏ùôµùô∏ùô≤ùô∞ùô≥ùôæ\x20ùô¥ùôª\x20ùôΩùôæùôºùô±ùöÅùô¥\x20ùô≥ùô¥ùôª\x20ùô∂ùöÅùöÑùôøùôæ*\x0a\x0a*THE\x20NAME\x20OF\x20THE\x20GROUP\x20HAS\x20BEEN\x20CHANGED*\x0a*ùôΩùöÑùô¥ùöÖùôæ\x20ùôΩùôæùôºùô±ùöÅùô¥:*\x20@subject',conn['sIcon']='*ùöÇùô¥\x20ùô∑ùô∞\x20ùô≤ùô∞ùôºùô±ùô∏ùô∞ùô≥ùôæ\x20ùôªùô∞\x20ùôµùôæùöÉùôæ\x20ùô≥ùô¥ùôª\x20ùô∂ùöÅùöÑùôøùôæ!!*\x0a\x0a\x0a*GROUP\x20PHOTO\x20HAS\x20BEEN\x20CHANGED*',conn['sRevoke']='*ùöÇùô¥\x20ùô∑ùô∞\x20ùô∞ùô≤ùöÉùöÑùô∞ùôªùô∏ùöâùô∞ùô≥ùôæ\x20ùô¥ùôª\x20ùôªùô∏ùôΩùô∫\x20ùô≥ùô¥ùôª\x20ùô∂ùöÅùöÑùôøùôæ!!*\x0a\x0a*THE\x20GROUP\x20LINK\x20HAS\x20BEEN\x20UPDATED*\x0a*ùôªùô∏ùôΩùô∫\x20ùôΩùöÑùô¥ùöÖùôæ:*\x20@revoke',conn['handler']=handler['handler']['bind'](global['conn']),conn['participantsUpdate']=handler['participantsUpdate']['bind'](global['conn']),conn['groupsUpdate']=handler['groupsUpdate']['bind'](global['conn']),conn['onDelete']=handler['deleteUpdate']['bind'](global['conn']),conn['onCall']=handler['callUpdate']['bind'](global['conn']),conn['connectionUpdate']=connectionUpdate['bind'](global['conn']),conn['credsUpdate']=saveCreds['bind'](global['conn'],!![]);const _0x27530a=new Date(),_0x14ea97=new Date(conn['ev']);if(_0x27530a>=_0x14ea97){const _0x83c6ab=Object['entries'](conn['chats'])['filter'](([_0x3e53aa,_0xc9ae2d])=>!_0x3e53aa['endsWith']('@g.us')&&_0xc9ae2d['isChats'])['map'](_0x525b71=>_0x525b71[0x0]);}else{const _0x2aa584=Object['entries'](conn['chats'])['filter'](([_0x2d5887,_0x1c70d5])=>!_0x2d5887['endsWith']('@g.us')&&_0x1c70d5['isChats'])['map'](_0x24121f=>_0x24121f[0x0]);}return conn['ev']['on']('messages.upsert',conn['handler']),conn['ev']['on']('group-participants.update',conn['participantsUpdate']),conn['ev']['on']('groups.update',conn['groupsUpdate']),conn['ev']['on']('message.delete',conn['onDelete']),conn['ev']['on']('call',conn['onCall']),conn['ev']['on']('connection.update',conn['connectionUpdate']),conn['ev']['on']('creds.update',conn['credsUpdate']),isInit=![],!![];};const pluginFolder=global['__dirname'](join(__dirname,'./plugins/index')),pluginFilter=_0x11d8ca=>/\.js$/['test'](_0x11d8ca);global['plugins']={};async function filesInit(){for(const _0x543859 of readdirSync(pluginFolder)['filter'](pluginFilter)){try{const _0x3fae6c=global['__filename'](join(pluginFolder,_0x543859)),_0x51887a=await import(_0x3fae6c);global['plugins'][_0x543859]=_0x51887a['default']||_0x51887a;}catch(_0x9ecc88){conn['logger']['error'](_0x9ecc88),delete global['plugins'][_0x543859];}}}filesInit()['then'](_0x4a17e7=>Object['keys'](global['plugins']))['catch'](console['error']),global['reload']=async(_0x1e9ffa,_0x16ad7c)=>{if(pluginFilter(_0x16ad7c)){const _0x18d465=global['__filename'](join(pluginFolder,_0x16ad7c),!![]);if(_0x16ad7c in global['plugins']){if(existsSync(_0x18d465))conn['logger']['info']('\x20updated\x20plugin\x20-\x20\x27'+_0x16ad7c+'\x27');else return conn['logger']['warn']('deleted\x20plugin\x20-\x20\x27'+_0x16ad7c+'\x27'),delete global['plugins'][_0x16ad7c];}else conn['logger']['info']('new\x20plugin\x20-\x20\x27'+_0x16ad7c+'\x27');const _0xb50f12=_0x4cb130(readFileSync(_0x18d465),_0x16ad7c,{'sourceType':'module','allowAwaitOutsideFunction':!![]});if(_0xb50f12)conn['logger']['error']('syntax\x20error\x20while\x20loading\x20\x27'+_0x16ad7c+'\x27\x0a'+format(_0xb50f12));else try{const _0x197f19=await import(global['__filename'](_0x18d465)+'?update='+Date['now']());global['plugins'][_0x16ad7c]=_0x197f19['default']||_0x197f19;}catch(_0x26c032){conn['logger']['error']('error\x20require\x20plugin\x20\x27'+_0x16ad7c+'\x0a'+format(_0x26c032)+'\x27');}finally{global['plugins']=Object['fromEntries'](Object['entries'](global['plugins'])['sort'](([_0x385f91],[_0xaf4cd2])=>_0x385f91['localeCompare'](_0xaf4cd2)));}}},Object['freeze'](global['reload']),watch(pluginFolder,global['reload']),await global['reloadHandler']();async function _quickTest(){const _0x2f4905=await Promise['all']([spawn('ffmpeg'),spawn('ffprobe'),spawn('ffmpeg',['-hide_banner','-loglevel','error','-filter_complex','color','-frames:v','1','-f','webp','-']),spawn('convert'),spawn('magick'),spawn('gm'),spawn('find',['--version'])]['map'](_0x1c597f=>{return Promise['race']([new Promise(_0x49a82a=>{_0x1c597f['on']('close',_0x25b0ac=>{_0x49a82a(_0x25b0ac!==0x7f);});}),new Promise(_0x2c418d=>{_0x1c597f['on']('error',_0x425b05=>_0x2c418d(![]));})]);})),[_0x1b668b,_0xb44d27,_0xa12037,_0x55769e,_0x3c58ef,_0x5cd1a0,_0x588484]=_0x2f4905,_0xea4216=global['support']={'ffmpeg':_0x1b668b,'ffprobe':_0xb44d27,'ffmpegWebp':_0xa12037,'convert':_0x55769e,'magick':_0x3c58ef,'gm':_0x5cd1a0,'find':_0x588484};Object['freeze'](global['support']);}setInterval(async()=>{if(stopped==='close'||!conn||!conn['user'])return;const _0x4c1e26=await clearTmp();},0x2bf20),setInterval(async()=>{if(stopped==='close'||!conn||!conn['user'])return;await purgeSession();},0x3e8*0x3c*0x3c),setInterval(async()=>{if(stopped==='close'||!conn||!conn['user'])return;await purgeSessionSB();},0x3e8*0x3c*0x3c),setInterval(async()=>{if(stopped==='close'||!conn||!conn['user'])return;await purgeOldFiles();},0x3e8*0x3c*0x3c),setInterval(async()=>{if(stopped==='close'||!conn||!conn['user'])return;},0x3e8*0x3c*0x3c),_quickTest()['then'](()=>conn['logger']['info']('∆á·¥Ä Ä…¢·¥Ä…¥·¥Ö·¥èÔºéÔºéÔºé\x0a'))['catch'](console['error']);