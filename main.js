process['env']['NODE_TLS_REJECT_UNAUTHORIZED']='1';import'./config.js';import{createRequire}from'module';import _0x55d6e7,{join}from'path';import{fileURLToPath,pathToFileURL}from'url';import{platform}from'process';import*as _0x2b2303 from'ws';import{readdirSync,statSync,unlinkSync,existsSync,readFileSync,rmSync,watch}from'fs';import _0xe1cab6 from'yargs';import{spawn}from'child_process';import _0xf78bdd from'lodash';import _0xcb49fc from'chalk';import _0x370ca2 from'syntax-error';import{tmpdir}from'os';import{format}from'util';import _0x1f41d8 from'pino';import _0x44f74f from'pino';import _0x396e9a from'pino';import{Boom}from'@hapi/boom';import{makeWASocket,protoType,serialize}from'./lib/simple.js';import{Low,JSONFile}from'lowdb';import{mongoDB,mongoDBV2}from'./lib/mongoDB.js';import _0x4a51bd from'./lib/store.js';const {proto}=(await import('@whiskeysockets/baileys'))['default'],{DisconnectReason,useMultiFileAuthState,MessageRetryMap,fetchLatestBaileysVersion,makeCacheableSignalKeyStore,jidNormalizedUser,PHONENUMBER_MCC}=await import('@whiskeysockets/baileys');import _0x586562 from'readline';import _0x4da6d6 from'node-cache';const {CONNECTING}=_0x2b2303,{chain}=_0xf78bdd,PORT=process['env']['PORT']||process['env']['SERVER_PORT']||0xbb8;protoType(),serialize(),global['__filename']=function filename(_0x61492e=import.meta['url'],_0x296c5a=platform!=='win32'){return _0x296c5a?/file:\/\/\//['test'](_0x61492e)?fileURLToPath(_0x61492e):_0x61492e:pathToFileURL(_0x61492e)['toString']();},global['__dirname']=function dirname(_0x6c2786){return _0x55d6e7['dirname'](global['__filename'](_0x6c2786,!![]));},global['__require']=function require(_0x4f0d9a=import.meta['url']){return createRequire(_0x4f0d9a);},global['API']=(_0x55a943,_0x4acaac='/',_0x3afc70={},_0x98cc87)=>(_0x55a943 in global['APIs']?global['APIs'][_0x55a943]:_0x55a943)+_0x4acaac+(_0x3afc70||_0x98cc87?'?'+new URLSearchParams(Object['entries']({..._0x3afc70,..._0x98cc87?{[_0x98cc87]:global['APIKeys'][_0x55a943 in global['APIs']?global['APIs'][_0x55a943]:_0x55a943]}:{}})):''),global['timestamp']={'start':new Date()},global['videoList']=[],global['videoListXXX']=[];const __dirname=global['__dirname'](import.meta['url']);global['opts']=new Object(_0xe1cab6(process['argv']['slice'](0x2))['exitProcess'](![])['parse']()),global['prefix']=new RegExp('^['+(opts['prefix']||'*/i!#$%+Â£Â¢â‚¬Â¥^Â°=Â¶âˆ†Ã—Ã·Ï€âˆšâœ“Â©Â®:;?&.\x5c-.@')['replace'](/[|\\{}()[\]^$+*?.\-\^]/g,'\x5c$&')+']'),global['db']=new Low(/https?:\/\//['test'](opts['db']||'')?new cloudDBAdapter(opts['db']):new JSONFile((opts['_'][0x0]?opts['_'][0x0]+'_':'')+'database.json')),global['DATABASE']=global['db'],global['loadDatabase']=async function loadDatabase(){if(global['db']['READ'])return new Promise(_0x1a6116=>setInterval(async function(){!global['db']['READ']&&(clearInterval(this),_0x1a6116(global['db']['data']==null?global['loadDatabase']():global['db']['data']));},0x1*0x3e8));if(global['db']['data']!==null)return;global['db']['READ']=!![],await global['db']['read']()['catch'](console['error']),global['db']['READ']=null,global['db']['data']={'users':{},'chats':{},'stats':{},'msgs':{},'sticker':{},'settings':{},...global['db']['data']||{}},global['db']['chain']=chain(global['db']['data']);},loadDatabase(),global['chatgpt']=new Low(new JSONFile(_0x55d6e7['join'](__dirname,'/db/chatgpt.json'))),global['loadChatgptDB']=async function loadChatgptDB(){if(global['chatgpt']['READ'])return new Promise(_0x5b9f57=>setInterval(async function(){!global['chatgpt']['READ']&&(clearInterval(this),_0x5b9f57(global['chatgpt']['data']===null?global['loadChatgptDB']():global['chatgpt']['data']));},0x1*0x3e8));if(global['chatgpt']['data']!==null)return;global['chatgpt']['READ']=!![],await global['chatgpt']['read']()['catch'](console['error']),global['chatgpt']['READ']=null,global['chatgpt']['data']={'users':{},...global['chatgpt']['data']||{}},global['chatgpt']['chain']=_0xf78bdd['chain'](global['chatgpt']['data']);},loadChatgptDB(),global['authFile']='Session-activa';const {state,saveState,saveCreds}=await useMultiFileAuthState(global['authFile']),msgRetryCounterMap=_0x67f1bf=>{},msgRetryCounterCache=new _0x4da6d6(),{version}=await fetchLatestBaileysVersion();let phoneNumber=global['botnumber'];const pairingCode=!!phoneNumber||process['argv']['includes']('--pairing-code'),useMobile=process['argv']['includes']('--mobile'),rl=_0x586562['createInterface']({'input':process['stdin'],'output':process['stdout']}),question=_0x58b7a0=>new Promise(_0x51489c=>rl['question'](_0x58b7a0,_0x51489c)),connectionOptions={'logger':_0x44f74f({'level':'silent'}),'printQRInTerminal':!pairingCode,'mobile':useMobile,'browser':['Chrome\x20(Linux)','',''],'auth':{'creds':state['creds'],'keys':makeCacheableSignalKeyStore(state['keys'],_0x396e9a({'level':'fatal'})['child']({'level':'fatal'}))},'markOnlineOnConnect':!![],'generateHighQualityLinkPreview':!![],'getMessage':async _0x1fb96a=>{let _0xb9e271=jidNormalizedUser(_0x1fb96a['remoteJid']),_0x1604f8=await _0x4a51bd['loadMessage'](_0xb9e271,_0x1fb96a['id']);return _0x1604f8?.['message']||'';},'msgRetryCounterCache':msgRetryCounterCache,'msgRetryCounterMap':msgRetryCounterMap,'defaultQueryTimeoutMs':undefined,'version':version};global['conn']=makeWASocket(connectionOptions);if(pairingCode&&!conn['authState']['creds']['registered']){if(useMobile)throw new Error('Cannot\x20use\x20a\x20code');let numeroTelefono;!!phoneNumber?(numeroTelefono=phoneNumber['replace'](/[^0-9]/g,''),!Object['keys'](PHONENUMBER_MCC)['some'](_0x8203be=>numeroTelefono['startsWith'](_0x8203be))&&(console['log'](_0xcb49fc['bgBlack'](_0xcb49fc['redBright']('Start\x20with\x20the\x20country\x20code\x20of\x20your\x20WhatsApp\x20number.'))),process['exit'](0x0))):(numeroTelefono=await question(_0xcb49fc['bgBlack'](_0xcb49fc['greenBright']('Por\x20favor,\x20escriba\x20su\x20nÃºmero\x20de\x20WhatsApp.\x0aEjemplo:\x20+5219992095479\x20:\x20'))),numeroTelefono=numeroTelefono['replace'](/[^0-9]/g,''),!Object['keys'](PHONENUMBER_MCC)['some'](_0xed5eee=>numeroTelefono['startsWith'](_0xed5eee))&&(console['log'](_0xcb49fc['bgBlack'](_0xcb49fc['redBright']('Start\x20with\x20the\x20country\x20code\x20of\x20your\x20WhatsApp\x20number.'))),numeroTelefono=await question(_0xcb49fc['bgBlack'](_0xcb49fc['greenBright']('Por\x20favor,\x20escriba\x20su\x20nÃºmero\x20de\x20WhatsApp.\x0aEjemplo:\x20+5219992095479\x20:\x20'))),numeroTelefono=numeroTelefono['replace'](/[^0-9]/g,''),rl['close']())),setTimeout(async()=>{let _0x5177f4=await conn['requestPairingCode'](numeroTelefono);_0x5177f4=_0x5177f4?.['match'](/.{1,4}/g)?.['join']('-')||_0x5177f4,console['log'](_0xcb49fc['black'](_0xcb49fc['bgGreen']('Su\x20cÃ³digo\x20de\x20emparejamiento:\x20')),_0xcb49fc['black'](_0xcb49fc['white'](_0x5177f4)));},0xbb8);}conn['isInit']=![],conn['well']=![],conn['logger']['info']('[\x20â„¹ï¸\x20]\x20Cargando...\x0a');!opts['test']&&(global['db']&&setInterval(async()=>{if(global['db']['data'])await global['db']['write']();if(opts['autocleartmp']&&(global['support']||{})['find'])tmp=[os['tmpdir'](),'tmp','jadibts'],tmp['forEach'](_0x24dde4=>cp['spawn']('find',[_0x24dde4,'-amin','3','-type','f','-delete']));},0x1e*0x3e8));if(opts['server'])(await import('./server.js'))['default'](global['conn'],PORT);function clearTmp(){const _0x25ef28=[join(__dirname,'./tmp')],_0x4290b5=[];return _0x25ef28['forEach'](_0x41bb17=>readdirSync(_0x41bb17)['forEach'](_0x90bb74=>_0x4290b5['push'](join(_0x41bb17,_0x90bb74)))),_0x4290b5['map'](_0x1caf7e=>{const _0x4de857=statSync(_0x1caf7e);if(_0x4de857['isFile']()&&Date['now']()-_0x4de857['mtimeMs']>=0x3e8*0x3c*0x3)return unlinkSync(_0x1caf7e);return![];});}function purgeSession(){let _0xfaaf00=[],_0x3446ab=readdirSync('./Session-activa'),_0x465e0f=_0x3446ab['filter'](_0x980c80=>{return _0x980c80['startsWith']('pre-key-');});_0xfaaf00=[..._0xfaaf00,..._0x465e0f],_0x465e0f['forEach'](_0x2441d8=>{unlinkSync('./Session-activa/'+_0x2441d8);});}function purgeSessionSB(){try{let _0x515a6f=readdirSync('./jadibts/'),_0x19b48a=[];_0x515a6f['forEach'](_0x168caf=>{if(statSync('./jadibts/'+_0x168caf)['isDirectory']()){let _0x544b5f=readdirSync('./jadibts/'+_0x168caf)['filter'](_0x5655da=>{return _0x5655da['startsWith']('pre-key-');});_0x19b48a=[..._0x19b48a,..._0x544b5f],_0x544b5f['forEach'](_0x75513e=>{unlinkSync('./jadibts/'+_0x168caf+'/'+_0x75513e);});}});if(_0x19b48a['length']===0x0)return;}catch(_0x576f4f){console['log'](_0xcb49fc['bold']['red']('â—\x20Something\x20went\x20wrong\x20during\x20deletion,\x20files\x20not\x20deleted\x20'));}}function purgeOldFiles(){const _0x674d21=['./Session-activa/','./jadibts/'],_0x2e7017=Date['now']()-0x3c*0x3c*0x3e8;_0x674d21['forEach'](_0x1f7193=>{readdirSync(_0x1f7193,(_0x38e54c,_0x3487dc)=>{if(_0x38e54c)throw _0x38e54c;_0x3487dc['forEach'](_0x45d94c=>{const _0x20dfa3=_0x55d6e7['join'](_0x1f7193,_0x45d94c);stat(_0x20dfa3,(_0x4dadf2,_0x3b72df)=>{if(_0x4dadf2)throw _0x4dadf2;_0x3b72df['isFile']()&&_0x3b72df['mtimeMs']<_0x2e7017&&_0x45d94c!=='creds.json'?unlinkSync(_0x20dfa3,_0x1acc6b=>{if(_0x1acc6b)throw _0x1acc6b;console['log'](_0xcb49fc['bold']['green']('Archivo\x20'+_0x45d94c+'\x20borrado\x20con\x20Ã©xito'));}):console['log'](_0xcb49fc['bold']['red']('Archivo\x20'+_0x45d94c+'\x20no\x20borrado'+_0x4dadf2));});});});});}async function connectionUpdate(_0x2bc7db){const {connection:_0x2c5d5f,lastDisconnect:_0x1ba2ea,isNewLogin:_0x540f10}=_0x2bc7db;global['stopped']=_0x2c5d5f;if(_0x540f10)conn['isInit']=!![];const _0x14f1d0=_0x1ba2ea?.['error']?.['output']?.['statusCode']||_0x1ba2ea?.['error']?.['output']?.['payload']?.['statusCode'];_0x14f1d0&&_0x14f1d0!==DisconnectReason['loggedOut']&&conn?.['ws']['socket']==null&&(await global['reloadHandler'](!![])['catch'](console['error']),global['timestamp']['connect']=new Date());if(global['db']['data']==null)loadDatabase();_0x2bc7db['qr']!=0x0&&_0x2bc7db['qr']!=undefined&&console['log'](_0xcb49fc['yellow']('âœ”ï¸\x20Escanea\x20el\x20cÃ³digo\x20de\x20QR\x20en\x20el\x20WhatsApp\x20'));_0x2c5d5f=='open'&&console['log'](_0xcb49fc['yellow']('âœ”ï¸\x20Conectado\x20correctamente.\x20'));let _0x8a711b=new Boom(_0x1ba2ea?.['error'])?.['output']?.['statusCode'];if(_0x2c5d5f==='close'){if(_0x8a711b===DisconnectReason['badSession'])conn['logger']['error']('âŒ\x20SesiÃ³n\x20incorrecta,\x20por\x20favor\x20elimina\x20la\x20carpeta\x20'+global['authFile']+'\x20y\x20escanea\x20nuevamente.');else{if(_0x8a711b===DisconnectReason['connectionClosed'])conn['logger']['warn']('âŒ\x20ConexiÃ³n\x20cerrada,\x20reconectando.'),await global['reloadHandler'](!![])['catch'](console['error']);else{if(_0x8a711b===DisconnectReason['connectionLost'])conn['logger']['warn']('âŒ\x20Se\x20perdiÃ³\x20la\x20conexiÃ³n\x20con\x20el\x20servidor,\x20reconectÃ¡ndome.'),await global['reloadHandler'](!![])['catch'](console['error']);else{if(_0x8a711b===DisconnectReason['connectionReplaced'])conn['logger']['error']('âŒ\x20ConexiÃ³n\x20reemplazada,\x20se\x20ha\x20abierto\x20otra\x20nueva\x20sesiÃ³n.\x20Primero\x20cierre\x20sesiÃ³n\x20en\x20la\x20sesiÃ³n\x20actual.');else{if(_0x8a711b===DisconnectReason['loggedOut'])conn['logger']['error']('âŒ\x20ConexiÃ³n\x20cerrada,\x20elimine\x20la\x20carpeta.\x20'+global['authFile']+'\x20y\x20escanear\x20nuevamente.');else{if(_0x8a711b===DisconnectReason['restartRequired'])conn['logger']['info']('âŒ\x20Reboot\x20required,\x20restart\x20the\x20server\x20if\x20you\x20have\x20any\x20problems.'),await global['reloadHandler'](!![])['catch'](console['error']);else _0x8a711b===DisconnectReason['timedOut']?(conn['logger']['warn']('âŒ\x20Tiempo\x20de\x20conexiÃ³n\x20agotado,\x20reconectando...'),await global['reloadHandler'](!![])['catch'](console['error'])):(conn['logger']['warn']('âŒ\x20Motivo\x20de\x20desconexiÃ³n\x20desconocido.\x20'+(_0x8a711b||'')+':\x20'+(_0x2c5d5f||'')),await global['reloadHandler'](!![])['catch'](console['error']));}}}}}}}process['on']('uncaughtException',console['error']);let isInit=!![],handler=await import('./handler.js');global['reloadHandler']=async function(_0x5efb92){try{const _0x41937c=await import('./handler.js?update='+Date['now']())['catch'](console['error']);if(Object['keys'](_0x41937c||{})['length'])handler=_0x41937c;}catch(_0x1181bc){console['error'](_0x1181bc);}if(_0x5efb92){const _0x43283c=global['conn']['chats'];try{global['conn']['ws']['close']();}catch{}conn['ev']['removeAllListeners'](),global['conn']=makeWASocket(connectionOptions,{'chats':_0x43283c}),isInit=!![];}!isInit&&(conn['ev']['off']('messages.upsert',conn['handler']),conn['ev']['off']('group-participants.update',conn['participantsUpdate']),conn['ev']['off']('groups.update',conn['groupsUpdate']),conn['ev']['off']('message.delete',conn['onDelete']),conn['ev']['off']('call',conn['onCall']),conn['ev']['off']('connection.update',conn['connectionUpdate']),conn['ev']['off']('creds.update',conn['credsUpdate']));conn['welcome']='âŸ¥âŸâŸ¢âŸ¨*@user*âŸ©âŸ£âŸžâŸ¤\x0aâ€¢\x20*HOLA\x20ð™±ð™¸ð™´ð™½ðš…ð™´ð™½ð™¸ð™³ð™¾/ð™°@subject*\x0aâ€¢\x20*ð™°ðš…ð™¸ðš‚ð™¾\x20ð™¸ð™¼ð™¿ð™¾ðšðšƒð™°ð™½ðšƒð™´:*\x0aâ€¢\x20*ð™¿ðš˜ðš›\x20ðšðšŠðšŸðš˜ðš›\x20ð™»ðšŽðšŽ\x20ðš•ðšŠðšœ\x20ðš›ðšŽðšðš•ðšŠðšœ\x20ðšðšŽðš•\x20ðšðš›ðšžðš™ðš˜\x20ðš™ðšŠðš›ðšŠ\x20ðššðšžðšŽ\x20ðšŽðšŸðš’ðšðšŽðšœ\x20ðšœðšŽðš›\x20ðšŽðš•ðš’ðš–ðš’ðš—ðšŠðšðš˜\x20ðš¢\x20ðšŽðšŸðš’ðšðšŽðšœ\x20ðšðšŽðš—ðšŽðš›\x20ðš™ðš›ðš˜ðš‹ðš•ðšŽðš–ðšŠðšœ\x20ðšŒðš˜ðš—\x20ðšŒðš›ðšŽðšŠðšðš˜ðš›\x20ðšðšŽðš•\x20ðšðš›ðšžpo*\x0aâ€¢\x20*@desc*\x0aâ¬’â”€âŸ¢âŸ¨Â©ð™·ð™°ðšƒðš‚ðš„ð™½ð™´-ð™¼ð™¸ð™ºðš„-ðš„ð™»ðšƒðšð™°âŸ©âŸ£â”€â¬’',conn['bye']='âŸ¥âŸâŸ¢âŸ¨*@user*âŸ©âŸ£âŸžâŸ¤\x0aâ€¢\x20*ADIOS\x20ð™·ð™°ðš‚ðšƒð™°\x20ð™¿ðšð™¾ð™½ðšƒð™¾*\x0aâ¬’â”€âŸ¢âŸ¨Â©ð™·ð™°ðšƒðš‚ðš„ð™½ð™´-ð™¼ð™¸ð™ºðš„-ðš„ð™»ðšƒðšð™°âœâŸ©âŸ£â”€â¬’',conn['spromote']='*@user\x20ðš‚ð™´\x20ðš‚ðš„ð™¼ð™°\x20ð™°ð™»\x20ð™¶ðšðš„ð™¿ð™¾\x20ð™³ð™´\x20ð™°ð™³ð™¼ð™¸ð™½ðš‚*\x0a\x0a*ADMINS\x20GROUP\x20JOINS!!*',conn['sdemote']='*@user\x20ð™°ð™±ð™°ð™½ð™³ð™¾ð™½ð™°\x20ð™´ð™»\x20ð™¶ðšðš„ð™¿ð™¾\x20ð™³ð™´\x20ð™°ð™³ð™¼ð™¸ð™½ðš‚\x20!!*\x0a\x0a*ABANDONED\x20THE\x20ADMIN\x20GROUP*',conn['sDesc']='*ðš‚ð™´\x20ð™·ð™°\x20ð™¼ð™¾ð™³ð™¸ð™µð™¸ð™²ð™°ð™³ð™¾\x20ð™»ð™°\x20ð™³ð™´ðš‚ð™²ðšð™¸ð™¿ð™²ð™¸ð™¾ð™½\x20ð™³ð™´ð™»\x20ð™¶ðšðš„ð™¿ð™¾*\x0a\x0a\x20*GROUP\x20DESCRIPTION\x20HAS\x20BEEN\x20CHANGED*\x0a*ð™½ðš„ð™´ðš…ð™°\x20ð™³ð™´ðš‚ð™²ðšð™¸ð™¿ð™²ð™¸ð™¾ð™½:*\x20@desc',conn['sSubject']='*ðš‚ð™´\x20ð™·ð™°\x20ð™¼ð™¾ð™³ð™¸ð™µð™¸ð™²ð™°ð™³ð™¾\x20ð™´ð™»\x20ð™½ð™¾ð™¼ð™±ðšð™´\x20ð™³ð™´ð™»\x20ð™¶ðšðš„ð™¿ð™¾*\x0a\x0a*THE\x20NAME\x20OF\x20THE\x20GROUP\x20HAS\x20BEEN\x20CHANGED*\x0a*ð™½ðš„ð™´ðš…ð™¾\x20ð™½ð™¾ð™¼ð™±ðšð™´:*\x20@subject',conn['sIcon']='*ðš‚ð™´\x20ð™·ð™°\x20ð™²ð™°ð™¼ð™±ð™¸ð™°ð™³ð™¾\x20ð™»ð™°\x20ð™µð™¾ðšƒð™¾\x20ð™³ð™´ð™»\x20ð™¶ðšðš„ð™¿ð™¾!!*\x0a\x0a\x0a*GROUP\x20PHOTO\x20HAS\x20BEEN\x20CHANGED*',conn['sRevoke']='*ðš‚ð™´\x20ð™·ð™°\x20ð™°ð™²ðšƒðš„ð™°ð™»ð™¸ðš‰ð™°ð™³ð™¾\x20ð™´ð™»\x20ð™»ð™¸ð™½ð™º\x20ð™³ð™´ð™»\x20ð™¶ðšðš„ð™¿ð™¾!!*\x0a\x0a*THE\x20GROUP\x20LINK\x20HAS\x20BEEN\x20UPDATED*\x0a*ð™»ð™¸ð™½ð™º\x20ð™½ðš„ð™´ðš…ð™¾:*\x20@revoke',conn['handler']=handler['handler']['bind'](global['conn']),conn['participantsUpdate']=handler['participantsUpdate']['bind'](global['conn']),conn['groupsUpdate']=handler['groupsUpdate']['bind'](global['conn']),conn['onDelete']=handler['deleteUpdate']['bind'](global['conn']),conn['onCall']=handler['callUpdate']['bind'](global['conn']),conn['connectionUpdate']=connectionUpdate['bind'](global['conn']),conn['credsUpdate']=saveCreds['bind'](global['conn'],!![]);const _0x29ad66=new Date(),_0x57e714=new Date(conn['ev']);if(_0x29ad66>=_0x57e714){const _0x4968c1=Object['entries'](conn['chats'])['filter'](([_0x16a3f9,_0x510cc0])=>!_0x16a3f9['endsWith']('@g.us')&&_0x510cc0['isChats'])['map'](_0x483726=>_0x483726[0x0]);}else{const _0x4e18fe=Object['entries'](conn['chats'])['filter'](([_0x32ade2,_0x32e852])=>!_0x32ade2['endsWith']('@g.us')&&_0x32e852['isChats'])['map'](_0x7cbe6d=>_0x7cbe6d[0x0]);}return conn['ev']['on']('messages.upsert',conn['handler']),conn['ev']['on']('group-participants.update',conn['participantsUpdate']),conn['ev']['on']('groups.update',conn['groupsUpdate']),conn['ev']['on']('message.delete',conn['onDelete']),conn['ev']['on']('call',conn['onCall']),conn['ev']['on']('connection.update',conn['connectionUpdate']),conn['ev']['on']('creds.update',conn['credsUpdate']),isInit=![],!![];};const pluginFolder=global['__dirname'](join(__dirname,'./plugins/index')),pluginFilter=_0x20402c=>/\.js$/['test'](_0x20402c);global['plugins']={};async function filesInit(){for(const _0x18f311 of readdirSync(pluginFolder)['filter'](pluginFilter)){try{const _0x27f449=global['__filename'](join(pluginFolder,_0x18f311)),_0xcf6d37=await import(_0x27f449);global['plugins'][_0x18f311]=_0xcf6d37['default']||_0xcf6d37;}catch(_0x369f2d){conn['logger']['error'](_0x369f2d),delete global['plugins'][_0x18f311];}}}filesInit()['then'](_0x1d1b18=>Object['keys'](global['plugins']))['catch'](console['error']),global['reload']=async(_0x21890b,_0x19a05f)=>{if(pluginFilter(_0x19a05f)){const _0x115e96=global['__filename'](join(pluginFolder,_0x19a05f),!![]);if(_0x19a05f in global['plugins']){if(existsSync(_0x115e96))conn['logger']['info']('\x20updated\x20plugin\x20-\x20\x27'+_0x19a05f+'\x27');else return conn['logger']['warn']('deleted\x20plugin\x20-\x20\x27'+_0x19a05f+'\x27'),delete global['plugins'][_0x19a05f];}else conn['logger']['info']('new\x20plugin\x20-\x20\x27'+_0x19a05f+'\x27');const _0x32acc1=_0x370ca2(readFileSync(_0x115e96),_0x19a05f,{'sourceType':'module','allowAwaitOutsideFunction':!![]});if(_0x32acc1)conn['logger']['error']('syntax\x20error\x20while\x20loading\x20\x27'+_0x19a05f+'\x27\x0a'+format(_0x32acc1));else try{const _0x2efdec=await import(global['__filename'](_0x115e96)+'?update='+Date['now']());global['plugins'][_0x19a05f]=_0x2efdec['default']||_0x2efdec;}catch(_0x13c764){conn['logger']['error']('error\x20require\x20plugin\x20\x27'+_0x19a05f+'\x0a'+format(_0x13c764)+'\x27');}finally{global['plugins']=Object['fromEntries'](Object['entries'](global['plugins'])['sort'](([_0x189c01],[_0x3a7f74])=>_0x189c01['localeCompare'](_0x3a7f74)));}}},Object['freeze'](global['reload']),watch(pluginFolder,global['reload']),await global['reloadHandler']();async function _quickTest(){const _0x1b262a=await Promise['all']([spawn('ffmpeg'),spawn('ffprobe'),spawn('ffmpeg',['-hide_banner','-loglevel','error','-filter_complex','color','-frames:v','1','-f','webp','-']),spawn('convert'),spawn('magick'),spawn('gm'),spawn('find',['--version'])]['map'](_0x2f1ed5=>{return Promise['race']([new Promise(_0xb2f9ff=>{_0x2f1ed5['on']('close',_0x56a20e=>{_0xb2f9ff(_0x56a20e!==0x7f);});}),new Promise(_0x4300f2=>{_0x2f1ed5['on']('error',_0x30f32a=>_0x4300f2(![]));})]);})),[_0x1420b4,_0x478895,_0x89e304,_0x35b772,_0x136071,_0x7a2b1,_0x2aed32]=_0x1b262a,_0x236c86=global['support']={'ffmpeg':_0x1420b4,'ffprobe':_0x478895,'ffmpegWebp':_0x89e304,'convert':_0x35b772,'magick':_0x136071,'gm':_0x7a2b1,'find':_0x2aed32};Object['freeze'](global['support']);}setInterval(async()=>{if(stopped==='close'||!conn||!conn['user'])return;const _0x3ee072=await clearTmp();},0x2bf20),setInterval(async()=>{if(stopped==='close'||!conn||!conn['user'])return;await purgeSession();},0x3e8*0x3c*0x3c),setInterval(async()=>{if(stopped==='close'||!conn||!conn['user'])return;await purgeSessionSB();},0x3e8*0x3c*0x3c),setInterval(async()=>{if(stopped==='close'||!conn||!conn['user'])return;await purgeOldFiles();},0x3e8*0x3c*0x3c),setInterval(async()=>{if(stopped==='close'||!conn||!conn['user'])return;const _0x30b37b=process['uptime']()*0x3e8,_0x3958f1=clockString(_0x30b37b),_0x36d23b='ðŸ¤–\x20Este\x20usuario\x20hace\x20uso\x20del\x20tiempo\x20activo\x20de\x20Miku-bot\x20'+_0x3958f1+'\x20';await conn['updateProfileStatus'](_0x36d23b)['catch'](_0x4b68ed=>_0x4b68ed);},0xea60);function clockString(_0x39c772){const _0xfa30bb=isNaN(_0x39c772)?'--':Math['floor'](_0x39c772/0x5265c00),_0x25c675=isNaN(_0x39c772)?'--':Math['floor'](_0x39c772/0x36ee80)%0x18,_0x217b66=isNaN(_0x39c772)?'--':Math['floor'](_0x39c772/0xea60)%0x3c,_0x18b44e=isNaN(_0x39c772)?'--':Math['floor'](_0x39c772/0x3e8)%0x3c;return[_0xfa30bb,'dÃ­asï¸',_0x25c675,'horas',_0x217b66,'minutos',_0x18b44e,'segundos\x20']['map'](_0x467e19=>_0x467e19['toString']()['padStart'](0x2,0x0))['join']('');}_quickTest()['catch'](console['error']);